

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Validation Testing &mdash; terraform-iac-lab  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Summary" href="../05-summary/summary.html" />
    <link rel="prev" title="Lab Deployment" href="deploy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> terraform-iac-lab
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../00-overview/introduction.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01-getting-started/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-getting-started/setup.html">Setup</a></li>
</ul>
<p class="caption"><span class="caption-text">configure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02-configure/terraform.html">Terraform Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-configure/configure.html">Panorama Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">deploy</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Lab Deployment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Validation Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#access-the-apache-web-server">Access the Apache web server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#access-the-wordpress-application">Access the WordPress application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#post-a-blog-article">Post a blog article</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verify-firewall-rule-matches">Verify firewall rule matches</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">summary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../05-summary/summary.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-summary/cleanup.html">Cleaning Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-summary/moreinfo.html">Further Reading</a></li>
</ul>
<p class="caption"><span class="caption-text">appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06-appendix/terraform-commit.html">Terraform and Commits</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">terraform-iac-lab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Validation Testing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/03-deploy/validation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="validation-testing">
<h1>Validation Testing<a class="headerlink" href="#validation-testing" title="Permalink to this headline">¶</a></h1>
<p>In this activity you will:</p>
<ul class="simple">
<li><p>Access the Apache web server</p></li>
<li><p>Access the WordPress application</p></li>
<li><p>Post a blog article</p></li>
<li><p>Verify firewall rule matches</p></li>
</ul>
<p>The previous two activities had you deploy and configure the infrastructure
supporting our WordPress application.  Now it’s time to see if everything
works as planned.  If so, you should be able to access the application, post
a blog article, and verify that the appropriate firewall rules are being hit.
If not, you will need to troubleshoot your configs and make the necessary
corrections.</p>
<div class="section" id="access-the-apache-web-server">
<h2>Access the Apache web server<a class="headerlink" href="#access-the-apache-web-server" title="Permalink to this headline">¶</a></h2>
<p>The web server is using the firewall’s untrust interface address in a
destination NAT rule.  Run the following commands to determine the IP
address of this interface.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/terraform-iac-lab/deployment
$ terraform output
</pre></div>
</div>
<p>Open a new tab in your web browser and go to <code class="docutils literal notranslate"><span class="pre">http://&lt;web-server-ip-address&gt;</span></code>.
You should see the Apache default home page.</p>
<div class="figure align-center">
<img alt="../_images/apache.png" src="../_images/apache.png" />
</div>
</div>
<div class="section" id="access-the-wordpress-application">
<h2>Access the WordPress application<a class="headerlink" href="#access-the-wordpress-application" title="Permalink to this headline">¶</a></h2>
<p>Append <code class="docutils literal notranslate"><span class="pre">/wordpress</span></code> to the end of the web server URL and the WordPress
installation page should be displayed.</p>
<div class="figure align-center">
<img alt="../_images/wordpress-home.png" src="../_images/wordpress-home.png" />
</div>
<p>Fill in values of your choosing for the <strong>Site Name</strong>, <strong>Username</strong>, and
<strong>Your Email</strong>.  These are only for testing and do not need to be real values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you copy the password that is provided to your clipboard.
Otherwise you may not be able to log in once WordPress is installed.</p>
</div>
<p>Click <strong>Install WordPress</strong> when you are done.</p>
<p>On the following page, click on <strong>Log In</strong> to log into the WordPress
administrator dashboard.</p>
<div class="figure align-center">
<img alt="../_images/proceed.png" src="../_images/proceed.png" />
</div>
<p>Log into WordPress using the username and password you created.</p>
<div class="figure align-center">
<img alt="../_images/login.png" src="../_images/login.png" />
</div>
<p>You will then be presented with the WordPress administrator dashboard.</p>
<div class="figure align-center">
<img alt="../_images/dashboard.png" src="../_images/dashboard.png" />
</div>
</div>
<div class="section" id="post-a-blog-article">
<h2>Post a blog article<a class="headerlink" href="#post-a-blog-article" title="Permalink to this headline">¶</a></h2>
<p>Now that you’ve successfully logged into the WordPress administrator dashboard,
let’s post an update to the blog.</p>
<p>Click on <strong>Write your first blog post</strong> under the <strong>Next Steps</strong> section.  You
will be presented with the <strong>Add New Post</strong> editor.</p>
<div class="figure align-center">
<img alt="../_images/new-post.png" src="../_images/new-post.png" />
</div>
<p>Enter a title for your post and some sample content.  Then click on <strong>Publish</strong>
to post the update.</p>
<p>You can then click on <strong>Preview</strong> to see the published blog update.</p>
<div class="figure align-default">
<img alt="../_images/post.png" src="../_images/post.png" />
</div>
</div>
<div class="section" id="verify-firewall-rule-matches">
<h2>Verify firewall rule matches<a class="headerlink" href="#verify-firewall-rule-matches" title="Permalink to this headline">¶</a></h2>
<p>Now that we’ve confirmed the WordPress application is working properly, let’s
see what is happening with our firewall rules.</p>
<p>Log into the firewall administrator web interface at <code class="docutils literal notranslate"><span class="pre">https://&lt;firewall-management-ip&gt;</span></code> using these credentials:</p>
<ul class="simple">
<li><p>Username: <code class="docutils literal notranslate"><span class="pre">admin</span></code></p></li>
<li><p>Password: <code class="docutils literal notranslate"><span class="pre">Ignite2020!</span></code></p></li>
</ul>
<p>Navigate to <strong>Policies &gt; Security</strong>, and scroll to the right.  You will see details on the security rules that are
being hit.</p>
<div class="figure align-center">
<img alt="../_images/hit-count.png" src="../_images/hit-count.png" />
</div>
<p>Scroll back to the left, find the security rule entitled <em>Allow web inbound</em>.
Then click on the drop-down menu icon to the right of the rule name and
select <a href="#id1"><span class="problematic" id="id2">**</span></a>Log Viewer*.</p>
<div class="figure align-center">
<img alt="../_images/web-hits.png" src="../_images/web-hits.png" />
</div>
<p>You will see all of the logs associated with inbound web traffic.  Notice the
applications identified are <em>web-browsing</em> and <em>blog-posting</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may find source IPs other than your own as the web server is open
to the public and will likely be discovered by web crawlers and other discovery
tools aimed at public cloud providers.</p>
</div>
<p>Navigate back to <strong>Policies &gt; Security</strong> and click on the <strong>Log Viewer</strong> for
the <em>Allow web to db</em> rule.</p>
<div class="figure align-center">
<img alt="../_images/db-hits.png" src="../_images/db-hits.png" />
</div>
<p>You will see all of the MySQL (actually MariaDB) database traffic between the
WordPress web server and the database backend.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../05-summary/summary.html" class="btn btn-neutral float-right" title="Summary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="deploy.html" class="btn btn-neutral float-left" title="Lab Deployment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Palo Alto Networks

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>