

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tool Comparison &mdash; terraform-iac-lab  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Cleaning Up" href="cleanup.html" />
    <link rel="prev" title="Summary" href="summary.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> terraform-iac-lab
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../00-overview/introduction.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01-getting-started/requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-getting-started/setup.html">Setup</a></li>
</ul>
<p class="caption"><span class="caption-text">build</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02-build/deploy-gcp.html">Lab Deployment (GCP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-build/deploy-aws.html">Lab Deployment (AWS)</a></li>
</ul>
<p class="caption"><span class="caption-text">run</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../03-run/terraform/background-terraform.html">Terraform Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-run/terraform/activities-terraform.html">Terraform Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-run/ansible/background-ansible.html">Ansible Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-run/ansible/activities-ansible.html">Ansible Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-run/validation.html">Validation Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">respond</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../04-respond/monitor.html">Cloud Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-respond/dag.html">Dynamic Address Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-respond/scale-out.html">Compute Scaling</a></li>
</ul>
<p class="caption"><span class="caption-text">summary</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="summary.html">Summary</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tool Comparison</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#strengths">Strengths</a></li>
<li class="toctree-l2"><a class="reference internal" href="#idempotence">Idempotence</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commits">Commits</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operational-commands">Operational Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#facts-data-sources">Facts / Data Sources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cleanup.html">Cleaning Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="moreinfo.html">Further Reading</a></li>
</ul>
<p class="caption"><span class="caption-text">appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06-appendix/terraform-commit.html">Terraform and Commits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">terraform-iac-lab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Tool Comparison</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/05-summary/comparison.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tool-comparison">
<h1>Tool Comparison<a class="headerlink" href="#tool-comparison" title="Permalink to this headline">¶</a></h1>
<p>At this point, you’ve now used both Ansible and Terraform to configure a Palo
Alto Networks firewall. Though you’ve used these two tools to deploy the same
configuration, they differ in some important ways. Let’s discuss some of those
differences now.</p>
<div class="section" id="strengths">
<h2>Strengths<a class="headerlink" href="#strengths" title="Permalink to this headline">¶</a></h2>
<p>Both tools have a certain reputation associated with them. Terraform is known
more for its power in deployment, while Ansible is known more for its
flexibility in configuration. Both products can do both jobs just fine.</p>
<p>Regardless of their reputations, the most important part is that Palo Alto
Networks has integrations with both, and either way will get the job done.
It’s just a matter of preference.</p>
</div>
<div class="section" id="idempotence">
<h2>Idempotence<a class="headerlink" href="#idempotence" title="Permalink to this headline">¶</a></h2>
<p>Both Terraform and Ansible support <a class="reference external" href="https://en.wikipedia.org/wiki/Idempotence">idempotent</a> operations. Saying that an
operation is idempotent means that applying it multiple times will not change
the result. This is important for automation tools because they can be run to
change configuration <strong>and</strong> also to verify that the configuration actually
matches what you want. You can run <code class="docutils literal notranslate"><span class="pre">terraform</span> <span class="pre">apply</span></code> continuously for hours,
and if your configuration matches what is defined in the plan, it won’t
actually change anything.</p>
</div>
<div class="section" id="commits">
<h2>Commits<a class="headerlink" href="#commits" title="Permalink to this headline">¶</a></h2>
<p>As you’ve probably noticed, a lot of the Ansible modules allow you to commit
directly from them. There is also a dedicated Ansible module that just does
commits, containing support for both the firewall and Panorama.</p>
<p>So how do you perform commits with Terraform? Currently, there is no support
for commits inside the Terraform ecosystem, so they have to be handled
externally. Lack of finalizers are <a class="reference external" href="https://github.com/hashicorp/terraform/issues/6258">a known shortcoming</a> for Terraform and, once
it is addressed, support for it can be added to the provider. In the meantime,
we’ve provides some Golang code in the appendix
(<a class="reference internal" href="../06-appendix/terraform-commit.html"><span class="doc">Terraform and Commits</span></a>) that you can use to fill the gap.</p>
</div>
<div class="section" id="operational-commands">
<h2>Operational Commands<a class="headerlink" href="#operational-commands" title="Permalink to this headline">¶</a></h2>
<p>Ansible currently has a <code class="docutils literal notranslate"><span class="pre">panos_op</span></code> module allows users to run arbitrary
operational commands. An operational command could be something that just
shows some part of the configuration, but it can also change configuration.
Since Ansible doesn’t store state, it doesn’t care what the invocation of the
<code class="docutils literal notranslate"><span class="pre">panos_op</span></code> module results in.</p>
<p>This is a different story in Terraform. The basic flow of Terraform is that
there is a read operation that determines if a create, update, or delete needs
to take place. But operational commands as a whole don’t fit as neatly into
this paradigm. What if the operational command is just a read? What if the
operational command makes a configuration change, and should only be executed
once? This uncertainty is why support for operational commands in Terraform is
not currently in place.</p>
</div>
<div class="section" id="facts-data-sources">
<h2>Facts / Data Sources<a class="headerlink" href="#facts-data-sources" title="Permalink to this headline">¶</a></h2>
<p>Terraform may not have support for arbitrary operational commands, but it does
have a data source that you can use to retrieve specific parts of a <code class="docutils literal notranslate"><span class="pre">show</span>
<span class="pre">system</span> <span class="pre">info</span></code> command from the firewall or Panorama and then use that in your
Terraform plan file. This same thing is called “facts” in Ansible. Many of the
Ansible modules for PAN-OS support the gathering of facts that may be stored
and referenced in an Ansible playbook.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cleanup.html" class="btn btn-neutral float-right" title="Cleaning Up" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="summary.html" class="btn btn-neutral float-left" title="Summary" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Palo Alto Networks

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>